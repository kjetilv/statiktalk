package com.github.kjetilv.statiktalk

internal val senderTemplate
    get() =
        """
package 〔s.packidge〕

import com.github.kjetilv.statiktalk.api.SendMediatorBase

import 〔s.sourcePackidge〕.〔s.service〕

import no.nav.helse.rapids_rivers.RapidsConnection

/*
  This file was generated by statiktalk. Changes will be reverted when you rebuild.
*/

fun RapidsConnection.〔s.serviceCc〕(): 〔s.service〕 =
    〔s.service〕SendMediator(this)

private class 〔s.service〕SendMediator(
    rapidsConnection: RapidsConnection
) : SendMediatorBase(rapidsConnection), 〔s.service〕 {

    override fun 〔m.serviceName〕(
〔m.parameters:{parameter|
        〔parameter〕: String,
        }〕〔if(m.contextual)
        〕        context: 〔m.contextClass〕〔if(m.contextualNonNull)〕〔else〕?〔endif〕
        〔else〕〔endif〕
    ) {
        send〔if(m.contextualNonNull)〕1〔else〕0〔endif〕(
            〔if(m.contextual)〕context〔else〕null〔endif〕,
            "@event_name" to "〔s.service〕_〔m.serviceName〕",
〔m.parameters:{parameter|
            "〔parameter〕" to 〔parameter〕,
            }
〕       )
    }
}
""".trimIndent()
